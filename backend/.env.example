# ============================================
# openOii Backend Configuration
# ============================================

# App Settings
APP_NAME=openOii-backend
ENVIRONMENT=dev
LOG_LEVEL=INFO

# Database
DATABASE_URL=postgresql+asyncpg://openoii:openoii_dev@localhost:5432/openoii

# Redis（用于 confirm 信号共享）
REDIS_URL=redis://localhost:6379/0

# CORS (JSON array format)
CORS_ORIGINS=["http://localhost:15173"]

# ============================================
# LLM 服务 (Claude Agent SDK - Anthropic 形式接口)
# ============================================
# 方式一：直连 Anthropic（标准方式）
# ANTHROPIC_API_KEY=your_anthropic_api_key

方式二：使用中转站（推荐）
ANTHROPIC_BASE_URL=https://your-proxy.example.com  # 中转站地址
ANTHROPIC_AUTH_TOKEN=your_proxy_token              # 中转站 Token（大概率用这个）
# ANTHROPIC_API_KEY=your_proxy_key                   # 或者用这个，看中转站要求

# Claude 模型名称
# 注意：如果使用智谱中转站，保持此值即可，智谱会自动路由到 GLM 模型
ANTHROPIC_MODEL=claude-sonnet-4-5-20250929

# ============================================
# 图像生成服务 (OpenAI 兼容接口)
# ============================================
IMAGE_BASE_URL=https://api.openai.com/v1
IMAGE_API_KEY=your_image_api_key
IMAGE_MODEL=dall-e-3
# API 端点路径（默认 /images/generations，如果用 chat completions 可改为 /chat/completions）
IMAGE_ENDPOINT=/images/generations
# 是否启用图生图（分镜首帧 I2I 参考图）
# - false: 使用纯文本生图
# - true: 使用角色图片作为参考图生成分镜首帧，提升人物一致性
ENABLE_IMAGE_TO_IMAGE=false

# ============================================
# 视频生成服务 (OpenAI 兼容接口)
# ============================================
VIDEO_BASE_URL=https://api.example.com/v1
VIDEO_API_KEY=your_video_api_key
VIDEO_MODEL=video-gen-1
# API 端点路径（默认 /videos/generations，根据实际 API 调整）
VIDEO_ENDPOINT=/videos/generations
# 是否启用图生视频（分镜视频 I2V 参考图）
# - false: 使用纯文本生视频
# - true: 使用分镜图+角色图拼接作为参考图生成视频，提升人物一致性
ENABLE_IMAGE_TO_VIDEO=true

# ============================================
# 豆包视频生成服务（火山引擎 Ark API）
# ============================================
# 获取 API Key：https://console.volcengine.com/ark/region:ark+cn-beijing/apikey
DOUBAO_API_KEY=your_doubao_api_key
# 模型 ID（默认使用 doubao-seedance-1-5-pro-251215）
DOUBAO_VIDEO_MODEL=doubao-seedance-1-5-pro-251215
# 视频时长：5 或 10 秒
DOUBAO_VIDEO_DURATION=5
# 视频比例：16:9, 9:16, 1:1, adaptive
DOUBAO_VIDEO_RATIO=adaptive
# 是否生成音频
DOUBAO_GENERATE_AUDIO=true

# ============================================
# 视频服务提供商选择
# ============================================
# openai: 使用 OpenAI 兼容接口（VIDEO_* 配置）
# doubao: 使用豆包视频服务（DOUBAO_* 配置）
VIDEO_PROVIDER=doubao

# ============================================
# 其他设置
# ============================================
REQUEST_TIMEOUT_S=120.0
